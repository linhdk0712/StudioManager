@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h4>Danh sách ảnh viện</h4>

<div class="container">
    <div class="col-lg-12 ">
        <a class="btn btn-primary" style="margin-bottom:20px; margin-top:20px;">Add New Studio</a>
        <table class="table table-bordered ">
            <thead>
                <tr>
                    <th>Studio Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Active From</th>
                    <th>Active To</th>
                </tr>
            </thead>
            <tbody id="StudioActive"></tbody>
        </table>
    </div>
</div>
<script id="template" type="x-tmpl-mustache">
    <tr>
        <th>{{StudioName}}</th>
        <th>{{PhoneNumber}}</th>
        <th>{{Email}}</th>
        <th>{{Address}}</th>
        <th>{{ActiveFrom}}</th>
        <th>{{ActiveTo}}</th>
    </tr>
</script>

@section Scripts{
<script src="~/Scripts/mustache.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.ajax({
                url: '/SysAdmin/SysAdmin/GetStudioActive',
                type: 'GET',
                dataType: 'json',
                success: function (response) {
                    if (response.status) {
                        var results = response.data;
                        var html = '';
                        var template = $('#template').html();
                        $.each(results, function (i, item) {
                            html += Mustache.render(template, {
                                StudioName: item.StudioName,
                                PhoneNumber: item.PhoneNumber,
                                Email: item.Email,
                                Address: item.Address,
                                ActiveFrom: item.ActiveFrom,
                                ActiveTo: item.ActiveTo
                            });
                        });
                        $('#StudioActive').html(html);
                    }
                }
            });
        });
    </script>

}